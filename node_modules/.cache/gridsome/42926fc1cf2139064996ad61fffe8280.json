{"remainingRequest":"C:\\Users\\mjenn\\Desktop\\New folder\\zservices-web2\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!C:\\Users\\mjenn\\Desktop\\New folder\\zservices-web2\\node_modules\\gridsome\\app\\graphql\\guard.js","dependencies":[{"path":"C:\\Users\\mjenn\\Desktop\\New folder\\zservices-web2\\node_modules\\gridsome\\app\\graphql\\guard.js","mtime":1678315670702},{"path":"C:\\Users\\mjenn\\Desktop\\New folder\\zservices-web2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678315671046},{"path":"C:\\Users\\mjenn\\Desktop\\New folder\\zservices-web2\\node_modules\\babel-loader\\lib\\index.js","mtime":1678315671014}],"contextDependencies":[],"result":["import fetch from '../fetch';\nimport config from '~/.temp/config';\nimport { getResults, setResults, formatError } from './shared';\nexport default ((to, from, next) => {\n  if (process.isServer) return next();\n\n  // A custom route added by `router.addRoutes()`.\n  if (to.meta && to.meta.__custom) {\n    global.__INITIAL_STATE__ = null;\n    return next();\n  }\n  const cached = getResults(to.path);\n\n  // Stop here if data for the next page is already fetched.\n  if (cached) {\n    return cached.context.__notFound && to.name !== '*' ? next({\n      name: '*',\n      params: {\n        0: to.path\n      }\n    }) : next();\n  }\n\n  // The data already exists in the markup for the initial page.\n  if (process.isProduction && global.__INITIAL_STATE__) {\n    const {\n      context\n    } = global.__INITIAL_STATE__;\n    setResults(to.path, global.__INITIAL_STATE__);\n    global.__INITIAL_STATE__ = null;\n    return context.__notFound && to.name !== '*' ? next({\n      name: '*',\n      params: {\n        0: to.path\n      }\n    }) : next();\n  }\n  fetch(to).then(res => {\n    if (res.code === 404) {\n      next({\n        name: '*',\n        params: {\n          0: to.path\n        }\n      });\n    } else {\n      setResults(to.path, res);\n      next();\n    }\n  }).catch(err => {\n    if (err.code === 'MODULE_NOT_FOUND' || err.code === 404) {\n      console.error(err);\n      next({\n        name: '*',\n        params: {\n          0: to.path\n        }\n      });\n    } else if (err.code === 'INVALID_HASH' && to.path !== window.location.pathname) {\n      var _config$pathPrefix;\n      const fullPathWithPrefix = ((_config$pathPrefix = config.pathPrefix) !== null && _config$pathPrefix !== void 0 ? _config$pathPrefix : '') + to.fullPath;\n      window.location.assign(fullPathWithPrefix);\n    } else {\n      formatError(err, to);\n      next(err);\n    }\n  });\n});",{"version":3,"names":["fetch","config","getResults","setResults","formatError","to","from","next","process","isServer","meta","__custom","global","__INITIAL_STATE__","cached","path","context","__notFound","name","params","isProduction","then","res","code","catch","err","console","error","window","location","pathname","_config$pathPrefix","fullPathWithPrefix","pathPrefix","fullPath","assign"],"sources":["C:/Users/mjenn/Desktop/New folder/zservices-web2/node_modules/gridsome/app/graphql/guard.js"],"sourcesContent":["import fetch from '../fetch'\nimport config from '~/.temp/config'\nimport { getResults, setResults, formatError } from './shared'\n\nexport default (to, from, next) => {\n  if (process.isServer) return next()\n\n  // A custom route added by `router.addRoutes()`.\n  if (to.meta && to.meta.__custom) {\n    global.__INITIAL_STATE__ = null\n    return next()\n  }\n\n  const cached = getResults(to.path)\n\n  // Stop here if data for the next page is already fetched.\n  if (cached) {\n    return cached.context.__notFound && to.name !== '*'\n      ? next({ name: '*', params: { 0: to.path }})\n      : next()\n  }\n\n  // The data already exists in the markup for the initial page.\n  if (process.isProduction && global.__INITIAL_STATE__) {\n    const { context } = global.__INITIAL_STATE__\n    setResults(to.path, global.__INITIAL_STATE__)\n    global.__INITIAL_STATE__ = null\n\n    return context.__notFound && to.name !== '*'\n      ? next({ name: '*', params: { 0: to.path }})\n      : next()\n  }\n\n  fetch(to)\n    .then(res => {\n      if (res.code === 404) {\n        next({ name: '*', params: { 0: to.path }})\n      } else {\n        setResults(to.path, res)\n        next()\n      }\n    })\n    .catch(err => {\n      if (err.code === 'MODULE_NOT_FOUND' || err.code === 404) {\n        console.error(err)\n        next({ name: '*', params: { 0: to.path } })\n      } else if (err.code === 'INVALID_HASH' && to.path !== window.location.pathname) {\n        const fullPathWithPrefix = (config.pathPrefix ?? '') + to.fullPath\n        window.location.assign(fullPathWithPrefix)\n      } else {\n        formatError(err, to)\n        next(err)\n      }\n    })\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,UAAU,EAAEC,UAAU,EAAEC,WAAW,QAAQ,UAAU;AAE9D,gBAAe,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACjC,IAAIC,OAAO,CAACC,QAAQ,EAAE,OAAOF,IAAI,EAAE;;EAEnC;EACA,IAAIF,EAAE,CAACK,IAAI,IAAIL,EAAE,CAACK,IAAI,CAACC,QAAQ,EAAE;IAC/BC,MAAM,CAACC,iBAAiB,GAAG,IAAI;IAC/B,OAAON,IAAI,EAAE;EACf;EAEA,MAAMO,MAAM,GAAGZ,UAAU,CAACG,EAAE,CAACU,IAAI,CAAC;;EAElC;EACA,IAAID,MAAM,EAAE;IACV,OAAOA,MAAM,CAACE,OAAO,CAACC,UAAU,IAAIZ,EAAE,CAACa,IAAI,KAAK,GAAG,GAC/CX,IAAI,CAAC;MAAEW,IAAI,EAAE,GAAG;MAAEC,MAAM,EAAE;QAAE,CAAC,EAAEd,EAAE,CAACU;MAAK;IAAC,CAAC,CAAC,GAC1CR,IAAI,EAAE;EACZ;;EAEA;EACA,IAAIC,OAAO,CAACY,YAAY,IAAIR,MAAM,CAACC,iBAAiB,EAAE;IACpD,MAAM;MAAEG;IAAQ,CAAC,GAAGJ,MAAM,CAACC,iBAAiB;IAC5CV,UAAU,CAACE,EAAE,CAACU,IAAI,EAAEH,MAAM,CAACC,iBAAiB,CAAC;IAC7CD,MAAM,CAACC,iBAAiB,GAAG,IAAI;IAE/B,OAAOG,OAAO,CAACC,UAAU,IAAIZ,EAAE,CAACa,IAAI,KAAK,GAAG,GACxCX,IAAI,CAAC;MAAEW,IAAI,EAAE,GAAG;MAAEC,MAAM,EAAE;QAAE,CAAC,EAAEd,EAAE,CAACU;MAAK;IAAC,CAAC,CAAC,GAC1CR,IAAI,EAAE;EACZ;EAEAP,KAAK,CAACK,EAAE,CAAC,CACNgB,IAAI,CAACC,GAAG,IAAI;IACX,IAAIA,GAAG,CAACC,IAAI,KAAK,GAAG,EAAE;MACpBhB,IAAI,CAAC;QAAEW,IAAI,EAAE,GAAG;QAAEC,MAAM,EAAE;UAAE,CAAC,EAAEd,EAAE,CAACU;QAAK;MAAC,CAAC,CAAC;IAC5C,CAAC,MAAM;MACLZ,UAAU,CAACE,EAAE,CAACU,IAAI,EAAEO,GAAG,CAAC;MACxBf,IAAI,EAAE;IACR;EACF,CAAC,CAAC,CACDiB,KAAK,CAACC,GAAG,IAAI;IACZ,IAAIA,GAAG,CAACF,IAAI,KAAK,kBAAkB,IAAIE,GAAG,CAACF,IAAI,KAAK,GAAG,EAAE;MACvDG,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBlB,IAAI,CAAC;QAAEW,IAAI,EAAE,GAAG;QAAEC,MAAM,EAAE;UAAE,CAAC,EAAEd,EAAE,CAACU;QAAK;MAAE,CAAC,CAAC;IAC7C,CAAC,MAAM,IAAIU,GAAG,CAACF,IAAI,KAAK,cAAc,IAAIlB,EAAE,CAACU,IAAI,KAAKa,MAAM,CAACC,QAAQ,CAACC,QAAQ,EAAE;MAAA,IAAAC,kBAAA;MAC9E,MAAMC,kBAAkB,GAAG,EAAAD,kBAAA,GAAC9B,MAAM,CAACgC,UAAU,cAAAF,kBAAA,cAAAA,kBAAA,GAAI,EAAE,IAAI1B,EAAE,CAAC6B,QAAQ;MAClEN,MAAM,CAACC,QAAQ,CAACM,MAAM,CAACH,kBAAkB,CAAC;IAC5C,CAAC,MAAM;MACL5B,WAAW,CAACqB,GAAG,EAAEpB,EAAE,CAAC;MACpBE,IAAI,CAACkB,GAAG,CAAC;IACX;EACF,CAAC,CAAC;AACN,CAAC"}]}